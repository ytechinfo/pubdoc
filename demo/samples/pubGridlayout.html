<!doctype html>
<HTML>
 <HEAD>
  <TITLE> pub-grid-layout </TITLE>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <META NAME="Generator" CONTENT="EditPlus">
  <META NAME="Author" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META NAME="Description" CONTENT="">
  <script src="../plugins/jquery-1.10.2.min.js"></script>
<script src="../dist/pub.context.js"></script>
  <style>

.pub-grid div{
	border:1px solid #f1f1f1;
 -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}

.pub-grid-main{
	position:relative;
}

/* header */
.pub-grid-header{
	position:relative;
}

.pub-grid-header-left{
	float:left;
	display:inline-block;
}

.pub-grid-header-cont{
	display:inline-block;
}

/* body */
.pub-grid-body{
	position:relative;
}

.pub-grid-body-left{
	float:left;
	display:inline-block;
}

.pub-grid-body-cont{
	display:inline-block;
}


/* footer */
.pub-grid-footer{
	position:relative;
}

.pub-grid-footer-left{
	float:left;
	display:inline-block;
}

.pub-grid-footer-cont{
	display:inline-block;
}

/*scroll*/
.pub-grid-hscroll{
	width:100%;
	height:18px;
	position:absolute;
	bottom:0px;
	background:#fff;
	padding-left:25px;
	padding-right:25px;
}
.pub-grid-hscroll-left{
	position:absolute;left:0px;top:0px;
}
.pub-grid-hscroll-right{
	position:absolute;right:0px;top: 0px;
}
.pub-grid-hscroll-bar-area{
	position : relative;
	height:100%; 
	width:100%;
}
.pub-grid-hscroll-bar{
	position:absolute;
	width:100px;
	height:100%; 
	background:#f1f1f1;
    box-sizing: border-box;
    border: 1px solid #aaa;
    border-radius: 0.5em;
    touch-action: none;
}

.pub-grid-vscroll{
	height:100%;
	width:18px;
	position:absolute;
	right:0px;
	top:0px;
	background:#fff;
	padding-top:25px;
	padding-bottom:25px;
}
.pub-grid-vscroll-up{
	position:absolute; top:0px; left:0px;
}
.pub-grid-vscroll-down{
	position:absolute; bottom:0px; left:0px;
}

.pub-grid-vscroll-bar-area{
	position : relative;
	height:100%; 
	width:100%;
}
.pub-grid-vscroll-bar{
	position:absolute;
	width:100%;
	height:100px; 
	background:#f1f1f1;
	box-sizing: border-box;
    border: 1px solid #aaa;
    border-radius: 0.5em;
    touch-action: none;
}
</style>
 </HEAD>

 <BODY>
	<div id="pubGrid" class="pub-grid">
		<div class="pub-grid-main" style="height:200px;">
			<div id="pubGrid-header" class="pub-grid-header">
				<div id="pubGrid-header-left" class="pub-grid-header-left">pub-grid-header-left</div>
				<div id="pubGrid-header-cont" class="pub-grid-header-cont">pub-grid-header-cont</div>
			</div>

			<div id="pubGrid-body" class="pub-grid-body" style="height: 200px;">
				<div id="pubGrid-body-left" class="pub-grid-body-left">pub-grid-body-left</div>
				<div id="pubGrid-body-cont" class="pub-grid-body-cont">pub-grid-body-cont</div>
			</div>
			
			<div id="pubGrid-footer" class="pub-grid-footer">
				<div id="pubGrid-footer-left" class="pub-grid-footer-left">pub-grid-footer-left</div>
				<div id="pubGrid-footer-cont" class="pub-grid-footer-cont">pub-grid-footer-cont</div>
			</div>
			
			<div class="pub-grid-vscroll" style="height:200px;">
				<div class="pub-grid-vscroll-up">^</div>
				<div class="pub-grid-vscroll-bar-area"><div class="pub-grid-vscroll-bar"></div></div>
				<div class="pub-grid-vscroll-down">V</div>
			</div>
			<div class="pub-grid-hscroll">
				<div class="pub-grid-hscroll-left"><</div>
				<div class="pub-grid-hscroll-bar-area"><div class="pub-grid-hscroll-bar"></div></div>
				<div class="pub-grid-hscroll-right">></div>
			</div> 	
		</div>
		<div class="pub-grid-page-navigation">
			<ul> <li class="disabled"><a href="javascript:">«</a></li> <li class="active"><a href="javascript:">1</a></li> <li class="page-click" pageno="2"><a href="javascript:">2</a></li> <li class="page-click" pageno="3"><a href="javascript:">3</a></li> <li class="page-click" pageno="4"><a href="javascript:">4</a></li> <li class="page-click" pageno="5"><a href="javascript:">5</a></li> <li class="page-click" pageno="6"><a href="javascript:">6</a></li> <li class="page-click" pageno="7"><a href="javascript:">7</a></li> <li class="page-click" pageno="8"><a href="javascript:">8</a></li> <li class="page-click" pageno="9"><a href="javascript:">9</a></li> <li class="page-click" pageno="10"><a href="javascript:">10</a></li> <li class="page-click" pageno="2"><a href="javascript:">»</a></li></ul>
		</div>
	</div>
 </BODY>
</HTML>

<script>
$(document).ready(function (){
	scrollBar.initEvt();
});

var scrollBar = {
	initEvt : function (){
		$('.pub-grid-body').on('mousewheel DOMMouseScroll', function(e) {
			var oe = e.originalEvent;
			var delta = 0;
		
			if (oe.detail) {
				delta = oe.detail * -40;
			}else{
				delta = oe.wheelDelta;
			};
			
			var topVal = $('.pub-grid-vscroll-bar').position().top; 
			
			var vscrollH = $('.pub-grid-vscroll-bar-area').height() - $('.pub-grid-vscroll-bar').height();

			if(delta > 0){ // up
				topVal-=2; 
			}else{	// down
				topVal+=2; 
				console.log('down 1111');
			}
			topVal = topVal > vscrollH ? vscrollH : (topVal < 0 ? 0 : topVal);
			$('.pub-grid-vscroll-bar').css('top',topVal);
		});

		$('.pub-grid-hscroll-bar').on('touchstart.pubhscroll mousedown.pubhscroll',function (e){
			var oe = e.originalEvent.touches;
				
			var ele = $(this);
			var pageX = oe ? oe[0].pageX : e.pageX;
			var hscrollW = $('.pub-grid-hscroll-bar-area').width() - ele.width();

			var left = ele.position().left;
			
			$(document).on('touchmove.pubhscroll mousemove.pubhscroll', function (e){
				var oe = e.originalEvent.touches
				,ox = oe ? oe[0].pageX : e.pageX;
				ox = left+(ox - pageX);
				var w = ox > 0 ? (ox >= hscrollW ? hscrollW : ox) : 0 ; 

				console.log(hscrollW, w)
				ele.css('left',w);
			}).on('touchend.pubhscroll mouseup.pubhscroll mouseleave.pubhscroll', function (e){
				var oe = e.originalEvent.touches
				,ox = oe ? oe[0].pageX : e.pageX;
				
				ox = left+(ox - pageX);
				var w = ox > 0 ? (ox >= hscrollW?hscrollW :ox) : 0 ; 

				ele.css('left',w);

				$(document).off('touchend.pubhscroll mouseup.pubhscroll').off('touchmove.pubhscroll mousemove.pubhscroll mouseleave.pubhscroll');
			});

			return false; 
		})


		$('.pub-grid-vscroll-bar').on('touchstart.pubvscroll mousedown.pubvscroll',function (e){
			var oe = e.originalEvent.touches;
			
			var ele = $(this);
			var pageY = oe ? oe[0].pageY : e.pageY;
			var vscrollH = $('.pub-grid-vscroll-bar-area').height() - ele.height();

			var top = ele.position().top;
			
			$(document).on('touchmove.pubvscroll mousemove.pubvscroll', function (e){
				var oe = e.originalEvent.touches
				,oy = oe ? oe[0].pageY : e.pageY;
				oy = top+(oy - pageY);
				var h = oy > 0 ? (oy >= vscrollH ? vscrollH : oy) : 0 ; 

				console.log(vscrollH,  h)
				ele.css('top', h);
			}).on('touchend.pubvscroll mouseup.pubvscroll mouseleave.pubvscroll', function (e){
				var oe = e.originalEvent.touches
				,oy = oe ? oe[0].pageY : e.pageY;
				
				oy = top+(oy - pageY);
				var  h = oy > 0 ? (oy >= vscrollH ? vscrollH :oy) : 0 ; 

				ele.css('top', h);

				$(document).off('touchend.pubvscroll mouseup.pubvscroll').off('touchmove.pubvscroll mousemove.pubvscroll mouseleave.pubvscroll');
			});

			return false; 
		})
	}
}


function getItem (type){
	var aaa = [];
	var colItem = [];

	if(type ==1){
		for(var i =0 ;i <100000; i++){
			aaa.push({
				a:'aaasdfasdfasdfasdfasdfasdfa'+i
				,b:'ddd_'+i+'asdf'
				,c: (i*10000)
				,d:'ddd_'+i
				,e:'eee_'+i
			});
		}
		colItem = [
			{key :'a', label:'에이에이에이에이에이에이', width:100, sort : true}
			,{key :'b', label:'비', width:100, colClick :function (idx,item){ console.log(idx, item)}}
			,{key :'c', label:'씨',width:100, align:'center', type : 'money'}
			,{key :'d', label:'디',width:100 ,type : 'number', formatter : function (rowInfo){
				
				var item  = rowInfo.item;
				return rowInfo.formatter(item['c'],0);
			}}
			,{key :'e', label:'이',width:100}
			//,{key :'d', label:'디', hidden:true}
		]
	}else{

		for(var i =0 ;i <1000; i++){
			var tmpItem = {};

			for(var j =0 ; j< 150 ;j++){
				var colName = 'col'+j ; 
				tmpItem[colName] =  ('cont'+i+" _ "+j) ;
				//tmpItem[colName] = j< 30 ? ('cont'+i+" _ "+j) :'';
			}

			aaa.push(tmpItem)
		}
		
		colFirstItem = aaa[0];
		
		for(var key in colFirstItem){
			colItem.push( {
				key :key
				,label:key
				,width:100
			})
		}
	}

	return {
		"aaa": aaa
		,"colItem": colItem
	}; 
}

</script>
<style>
/* page*/
.pub-grid-page-navigation>ul {
  display: inline-block;
  padding-left: 0;
  margin: 3px;
  border-radius: 4px;
  line-height:22px;
}
.pub-grid-page-navigation>ul> li {
  display: inline;
}
.pub-grid-page-navigation>ul> li > a,
.pub-grid-page-navigation>ul> li > span {
	position: relative;
	float: left;
	padding: 2px 7px;
	margin-left: -1px;
	color: #000;
	text-decoration: none;
}
.pub-grid-page-navigation>ul> li:first-child > a,
.pub-grid-page-navigation>ul> li:first-child > span {
  margin-left: 0;
  border-top-left-radius: 4px;
  border-bottom-left-radius: 4px;
}
.pub-grid-page-navigation>ul> li:last-child > a,
.pub-grid-page-navigation>ul> li:last-child > span {
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
}
.pub-grid-page-navigation>ul> li > a:hover,
.pub-grid-page-navigation>ul> li > span:hover,
.pub-grid-page-navigation>ul> li > a:focus,
.pub-grid-page-navigation>ul> li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #d1e4f5;
  border-color: #bcbcbd;
}
.pub-grid-page-navigation>ul> .active > a,
.pub-grid-page-navigation>ul> .active > span,
.pub-grid-page-navigation>ul> .active > a:hover,
.pub-grid-page-navigation>ul> .active > span:hover,
.pub-grid-page-navigation>ul> .active > a:focus,
.pub-grid-page-navigation>ul> .active > span:focus {
  z-index: 3;
  color: #fff;
  cursor: default;
  background-color: #337ab7;
  border-color: #337ab7;
}
.pub-grid-page-navigation>ul> .disabled > span,
.pub-grid-page-navigation>ul> .disabled > span:hover,
.pub-grid-page-navigation>ul> .disabled > span:focus,
.pub-grid-page-navigation>ul> .disabled > a,
.pub-grid-page-navigation>ul> .disabled > a:hover,
.pub-grid-page-navigation>ul> .disabled > a:focus {
  color: #777;
  cursor: not-allowed;
  border-color: #bcbcbd;
}
.pubgGrid-count-info{
	position:absolute;top:0px;margin-top:8px;;right:5px;line-height:17px;
}
.pub-grid-page-navigation.page-left{
	text-align:left;
}

.pub-grid-page-navigation.page-center{
	text-align:center;
}
.pub-grid-page-navigation.page-right{
	text-align:right;
}

  </style>
